# nbc-task-alchemy-atelier
[내일배움캠프 Unreal 7기] 과제4. 연금술 공방 관리 시스템 구현

# 🧪 연금술 공방 관리 시스템 (Alchemy Workshop System)

## 📌 개요 (Summary)
연금술 공방 관리 시스템은 물약 레시피를 등록하고, 검색 및 실시간 재고를 관리하기 위한 C++ 기반 콘솔 애플리케이션. 
단순히 데이터를 저장하는 것을 넘어, **SOLID 설계 원칙**과 **Modern C++(스마트 포인터)**를 적용하여 유지보수가 용이하고 메모리 안전성을 확보한 객체지향 소프트웨어.
---

## 🛠 주요 변경 사항 (Key Changes)

### 1. 필수 기능 구현 (Essential Features)
- **레시피 통합 관리**: `IRecipeManager` 인터페이스를 통해 레시피의 추가 및 조회를 객체지향적으로 관리.
- **물약 이름 검색**: 등록된 물약 중 특정 이름을 가진 레시피를 즉시 찾아 상세 정보를 출력.
- **재료 기반 검색**: 특정 재료가 포함된 모든 물약 레시피를 리스트업하는 기능을 구현. (`std::find` 활용)

### 2. 도전 기능 및 추가 구현 (Challenge & Extra Features)

#### ✅ 효율적인 재고 관리 시스템 (`IStockManager`)
- **자동 초기 재고 세팅**: 새로운 레시피가 등록되면 즉시 **3개의 초기 재고**가 세팅.
- **지급 및 반환 로직**: 
  - **지급**: 이름 혹은 재료로 검색하여 재고가 1개 이상일 경우 모험가에게 지급(재고 수량 -1).
  - **반환**: 지급된 물약의 공병을 반환받아 재고를 다시 채울 수 있음.
  - **재고 제한 (Cap)**: 모든 물약의 최대 재고는 **3개로 고정**되며, 공병 반환 시에도 이 수치를 초과할 수 없도록 예외 처리를 적용.

#### ✅ SOLID 원칙 및 기술적 고도화
- **SRP (단일 책임 원칙)**: 레시피 데이터 관리(`RecipeManager`)와 재고 수량 관리(`StockManager`)를 엄격히 분리.
- **DIP (의존성 역전 원칙)**: `AlchemyWorkshop` 컨트롤러가 구체 클래스가 아닌 `IRecipeManager`, `IStockManager` 인터페이스에 의존하게 하여 결합도를 낮추었음.
- **Smart Pointers**: 
  - `std::unique_ptr`: 매니저 객체의 생명 주기를 안전하게 독점 소유.
  - `std::shared_ptr`: 레시피 객체를 여러 검색 결과와 관리 시스템 간에 안전하게 공유.
- **Interface 기반 설계**: 추상 클래스와 가상 소멸자를 사용하여 메모리 누수를 방지하고 확장성을 확보.
---

## 📸 실행 결과 (Screenshots/Logs)

### [메인 메뉴]
```text
[ 연금술 공방 관리 시스템 ]
1. 레시피 추가
2. 모든 레시피 출력
3. 레시피 검색
4. 물약 지급
5. 공병 반환
6. 종료
선택 : 
```

### [재고 관리 및 지급 예시]
```text
>> [성공] 체력 포션 레시피가 추가되고 재고가 세팅되었습니다.

1. 이름으로 지급 / 2. 재료로 지급 : 1
물약 이름 : 체력 포션
>> 지급 성공! (현재 재고: 2)

반환할 물약 이름 : 체력 포션
>> 반환되었습니다. (현재 재고: 3)
```

### [재료 기반 검색 결과]
```text
검색할 재료 이름을 한 가지만 입력하세요 : 물병
>> 재료 '물병'를(을) 포함하는 레시피를 3개 찾았습니다!
- 물약 이름 : 체력 포션
- 물약 이름 : 마나 포션
- 물약 이름 : 스테미나 포션
```
---

## 📂 프로젝트 구조
- `PotionRecipe`: 물약의 이름과 재료 데이터를 담는 도메인 모델
- `IRecipeManager / RecipeManager`: 레시피 등록 및 검색 엔진
- `IStockManager / StockManager`: 수량 제한 및 지급/반환 비즈니스 로직
- `AlchemyWorkshop`: UI와 각 매니저를 연결하는 컨트롤러 (Facade 패턴)
